//
//  EmojiRegistry.swift
//  tte
//
//  Created by Alex Young on 11/25/25.
//

import Foundation

/// Registry of emoji shortcodes and their corresponding emoji characters.
/// Uses Discord-compatible shortcode format (e.g., ":fire:" -> ðŸ”¥)
class EmojiRegistry {
    static let shared = EmojiRegistry()

    /// Dictionary mapping shortcodes to emoji characters
    let mappings: [String: String] = [
        // Smileys & Emotion
        ":grinning:": "ðŸ˜€",
        ":smiley:": "ðŸ˜ƒ",
        ":smile:": "ðŸ˜„",
        ":grin:": "ðŸ˜",
        ":laughing:": "ðŸ˜†",
        ":sweat_smile:": "ðŸ˜…",
        ":joy:": "ðŸ˜‚",
        ":rofl:": "ðŸ¤£",
        ":relaxed:": "â˜ºï¸",
        ":blush:": "ðŸ˜Š",
        ":innocent:": "ðŸ˜‡",
        ":slight_smile:": "ðŸ™‚",
        ":upside_down:": "ðŸ™ƒ",
        ":wink:": "ðŸ˜‰",
        ":relieved:": "ðŸ˜Œ",
        ":heart_eyes:": "ðŸ˜",
        ":kissing_heart:": "ðŸ˜˜",
        ":kissing:": "ðŸ˜—",
        ":kissing_smiling_eyes:": "ðŸ˜™",
        ":kissing_closed_eyes:": "ðŸ˜š",
        ":yum:": "ðŸ˜‹",
        ":stuck_out_tongue:": "ðŸ˜›",
        ":stuck_out_tongue_closed_eyes:": "ðŸ˜",
        ":stuck_out_tongue_winking_eye:": "ðŸ˜œ",
        ":zany_face:": "ðŸ¤ª",
        ":face_with_raised_eyebrow:": "ðŸ¤¨",
        ":face_with_monocle:": "ðŸ§",
        ":nerd:": "ðŸ¤“",
        ":sunglasses:": "ðŸ˜Ž",
        ":star_struck:": "ðŸ¤©",
        ":partying_face:": "ðŸ¥³",
        ":smirk:": "ðŸ˜",
        ":unamused:": "ðŸ˜’",
        ":disappointed:": "ðŸ˜ž",
        ":pensive:": "ðŸ˜”",
        ":worried:": "ðŸ˜Ÿ",
        ":confused:": "ðŸ˜•",
        ":slight_frown:": "ðŸ™",
        ":frowning2:": "â˜¹ï¸",
        ":persevere:": "ðŸ˜£",
        ":confounded:": "ðŸ˜–",
        ":tired_face:": "ðŸ˜«",
        ":weary:": "ðŸ˜©",
        ":pleading_face:": "ðŸ¥º",
        ":cry:": "ðŸ˜¢",
        ":sob:": "ðŸ˜­",
        ":triumph:": "ðŸ˜¤",
        ":angry:": "ðŸ˜ ",
        ":rage:": "ðŸ˜¡",
        ":face_with_symbols_over_mouth:": "ðŸ¤¬",
        ":exploding_head:": "ðŸ¤¯",
        ":flushed:": "ðŸ˜³",
        ":scream:": "ðŸ˜±",
        ":fearful:": "ðŸ˜¨",
        ":cold_sweat:": "ðŸ˜°",
        ":disappointed_relieved:": "ðŸ˜¥",
        ":sweat:": "ðŸ˜“",
        ":hugging:": "ðŸ¤—",
        ":thinking:": "ðŸ¤”",
        ":face_with_hand_over_mouth:": "ðŸ¤­",
        ":yawning_face:": "ðŸ¥±",
        ":shushing_face:": "ðŸ¤«",
        ":lying_face:": "ðŸ¤¥",
        ":no_mouth:": "ðŸ˜¶",
        ":neutral_face:": "ðŸ˜",
        ":expressionless:": "ðŸ˜‘",
        ":grimacing:": "ðŸ˜¬",
        ":roll_eyes:": "ðŸ™„",
        ":hushed:": "ðŸ˜¯",
        ":frowning:": "ðŸ˜¦",
        ":anguished:": "ðŸ˜§",
        ":open_mouth:": "ðŸ˜®",
        ":astonished:": "ðŸ˜²",
        ":sleeping:": "ðŸ˜´",
        ":drooling_face:": "ðŸ¤¤",
        ":sleepy:": "ðŸ˜ª",
        ":dizzy_face:": "ðŸ˜µ",
        ":zipper_mouth:": "ðŸ¤",
        ":woozy_face:": "ðŸ¥´",
        ":nauseated_face:": "ðŸ¤¢",
        ":face_vomiting:": "ðŸ¤®",
        ":sneezing_face:": "ðŸ¤§",
        ":mask:": "ðŸ˜·",
        ":thermometer_face:": "ðŸ¤’",
        ":head_bandage:": "ðŸ¤•",
        ":money_mouth:": "ðŸ¤‘",
        ":cowboy:": "ðŸ¤ ",
        ":smiling_imp:": "ðŸ˜ˆ",
        ":imp:": "ðŸ‘¿",
        ":japanese_ogre:": "ðŸ‘¹",
        ":japanese_goblin:": "ðŸ‘º",
        ":clown:": "ðŸ¤¡",
        ":poop:": "ðŸ’©",
        ":ghost:": "ðŸ‘»",
        ":skull:": "ðŸ’€",
        ":skull_crossbones:": "â˜ ï¸",
        ":alien:": "ðŸ‘½",
        ":space_invader:": "ðŸ‘¾",
        ":robot:": "ðŸ¤–",
        ":jack_o_lantern:": "ðŸŽƒ",
        ":smiley_cat:": "ðŸ˜º",
        ":smile_cat:": "ðŸ˜¸",
        ":joy_cat:": "ðŸ˜¹",
        ":heart_eyes_cat:": "ðŸ˜»",
        ":smirk_cat:": "ðŸ˜¼",
        ":kissing_cat:": "ðŸ˜½",
        ":scream_cat:": "ðŸ™€",
        ":crying_cat_face:": "ðŸ˜¿",
        ":pouting_cat:": "ðŸ˜¾",

        // Gestures & People
        ":wave:": "ðŸ‘‹",
        ":raised_hand:": "âœ‹",
        ":vulcan:": "ðŸ––",
        ":ok_hand:": "ðŸ‘Œ",
        ":v:": "âœŒï¸",
        ":crossed_fingers:": "ðŸ¤ž",
        ":metal:": "ðŸ¤˜",
        ":call_me:": "ðŸ¤™",
        ":point_left:": "ðŸ‘ˆ",
        ":point_right:": "ðŸ‘‰",
        ":point_up_2:": "ðŸ‘†",
        ":point_down:": "ðŸ‘‡",
        ":point_up:": "â˜ï¸",
        ":thumbsup:": "ðŸ‘",
        ":thumbsdown:": "ðŸ‘Ž",
        ":fist:": "âœŠ",
        ":facepunch:": "ðŸ‘Š",
        ":left_facing_fist:": "ðŸ¤›",
        ":right_facing_fist:": "ðŸ¤œ",
        ":clap:": "ðŸ‘",
        ":raised_hands:": "ðŸ™Œ",
        ":open_hands:": "ðŸ‘",
        ":palms_up_together:": "ðŸ¤²",
        ":handshake:": "ðŸ¤",
        ":pray:": "ðŸ™",
        ":writing_hand:": "âœï¸",
        ":nail_care:": "ðŸ’…",
        ":selfie:": "ðŸ¤³",
        ":muscle:": "ðŸ’ª",
        ":mechanical_arm:": "ðŸ¦¾",
        ":mechanical_leg:": "ðŸ¦¿",
        ":leg:": "ðŸ¦µ",
        ":foot:": "ðŸ¦¶",
        ":ear:": "ðŸ‘‚",
        ":nose:": "ðŸ‘ƒ",
        ":brain:": "ðŸ§ ",
        ":eyes:": "ðŸ‘€",
        ":eye:": "ðŸ‘ï¸",
        ":tongue:": "ðŸ‘…",
        ":lips:": "ðŸ‘„",

        // Monkeys
        ":see_no_evil:": "ðŸ™ˆ",
        ":hear_no_evil:": "ðŸ™‰",
        ":speak_no_evil:": "ðŸ™Š",

        // Hearts
        ":heart:": "â¤ï¸",
        ":orange_heart:": "ðŸ§¡",
        ":yellow_heart:": "ðŸ’›",
        ":green_heart:": "ðŸ’š",
        ":blue_heart:": "ðŸ’™",
        ":purple_heart:": "ðŸ’œ",
        ":black_heart:": "ðŸ–¤",
        ":brown_heart:": "ðŸ¤Ž",
        ":white_heart:": "ðŸ¤",
        ":broken_heart:": "ðŸ’”",
        ":heart_exclamation:": "â£ï¸",
        ":two_hearts:": "ðŸ’•",
        ":revolving_hearts:": "ðŸ’ž",
        ":heartbeat:": "ðŸ’“",
        ":heartpulse:": "ðŸ’—",
        ":sparkling_heart:": "ðŸ’–",
        ":cupid:": "ðŸ’˜",
        ":gift_heart:": "ðŸ’",
        ":heart_decoration:": "ðŸ’Ÿ",

        // Symbols
        ":100:": "ðŸ’¯",
        ":fire:": "ðŸ”¥",
        ":sparkles:": "âœ¨",
        ":star:": "â­",
        ":star2:": "ðŸŒŸ",
        ":dizzy:": "ðŸ’«",
        ":boom:": "ðŸ’¥",
        ":anger:": "ðŸ’¢",
        ":sweat_drops:": "ðŸ’¦",
        ":dash:": "ðŸ’¨",
        ":hole:": "ðŸ•³ï¸",
        ":speech_balloon:": "ðŸ’¬",
        ":eye_in_speech_bubble:": "ðŸ‘ï¸â€ðŸ—¨ï¸",
        ":thought_balloon:": "ðŸ’­",
        ":zzz:": "ðŸ’¤",

        // Popular Objects & Activities
        ":tada:": "ðŸŽ‰",
        ":confetti_ball:": "ðŸŽŠ",
        ":rocket:": "ðŸš€",
        ":trophy:": "ðŸ†",
        ":medal:": "ðŸ…",
        ":first_place:": "ðŸ¥‡",
        ":second_place:": "ðŸ¥ˆ",
        ":third_place:": "ðŸ¥‰",
        ":soccer:": "âš½",
        ":basketball:": "ðŸ€",
        ":football:": "ðŸˆ",
        ":baseball:": "âš¾",
        ":tennis:": "ðŸŽ¾",
        ":8ball:": "ðŸŽ±",
        ":pizza:": "ðŸ•",
        ":hamburger:": "ðŸ”",
        ":fries:": "ðŸŸ",
        ":hotdog:": "ðŸŒ­",
        ":taco:": "ðŸŒ®",
        ":burrito:": "ðŸŒ¯",
        ":beer:": "ðŸº",
        ":beers:": "ðŸ»",
        ":wine_glass:": "ðŸ·",
        ":coffee:": "â˜•",
        ":tea:": "ðŸµ",
        ":cake:": "ðŸ°",
        ":birthday:": "ðŸŽ‚",
        ":cookie:": "ðŸª",

        // Gestures (additional)
        ":ok:": "ðŸ†—",
        ":new:": "ðŸ†•",
        ":free:": "ðŸ†“",
        ":cool:": "ðŸ†’",
        ":sos:": "ðŸ†˜",
        ":up:": "ðŸ†™",
        ":vs:": "ðŸ†š",

        // Flags (common)
        ":checkered_flag:": "ðŸ",
        ":triangular_flag_on_post:": "ðŸš©",
        ":crossed_flags:": "ðŸŽŒ",
        ":rainbow_flag:": "ðŸ³ï¸â€ðŸŒˆ",

        // Additional common Discord emojis
        ":shrug:": "ðŸ¤·",
        ":facepalm:": "ðŸ¤¦",
        ":ping_pong:": "ðŸ“",
        ":microphone:": "ðŸŽ¤",
        ":headphones:": "ðŸŽ§",
        ":video_game:": "ðŸŽ®",
        ":guitar:": "ðŸŽ¸",
        ":musical_note:": "ðŸŽµ",
        ":notes:": "ðŸŽ¶",
        ":bell:": "ðŸ””",
        ":no_bell:": "ðŸ”•",
        ":mega:": "ðŸ“£",
        ":loudspeaker:": "ðŸ“¢",
        ":book:": "ðŸ“–",
        ":books:": "ðŸ“š",
        ":pencil:": "ðŸ“",
        ":bulb:": "ðŸ’¡",
        ":mag:": "ðŸ”",
        ":mag_right:": "ðŸ”Ž",
        ":lock:": "ðŸ”’",
        ":unlock:": "ðŸ”“",
        ":key:": "ðŸ”‘",
        ":hammer:": "ðŸ”¨",
        ":wrench:": "ðŸ”§",
        ":nut_and_bolt:": "ðŸ”©",
        ":gear:": "âš™ï¸",
        ":link:": "ðŸ”—",
        ":chains:": "â›“ï¸",
        ":warning:": "âš ï¸",
        ":no_entry:": "â›”",
        ":white_check_mark:": "âœ…",
        ":x:": "âŒ",
        ":o:": "â­•",
        ":question:": "â“",
        ":grey_question:": "â”",
        ":grey_exclamation:": "â•",
        ":exclamation:": "â—",
        ":heavy_plus_sign:": "âž•",
        ":heavy_minus_sign:": "âž–",
        ":heavy_division_sign:": "âž—",
        ":heavy_multiplication_x:": "âœ–ï¸",
        ":arrow_left:": "â¬…ï¸",
        ":arrow_right:": "âž¡ï¸",
        ":arrow_up:": "â¬†ï¸",
        ":arrow_down:": "â¬‡ï¸"
    ]

    /// Cached sorted list of all shortcodes for efficient autocomplete lookups
    private lazy var sortedShortcuts: [String] = {
        return Array(mappings.keys).sorted()
    }()

    private init() {}

    /// Returns the emoji for a given shortcode.
    /// - Parameter shortcut: The emoji shortcode (e.g., ":fire:")
    /// - Returns: The emoji character, or nil if not found
    func getEmoji(for shortcut: String) -> String? {
        return mappings[shortcut]
    }

    /// Returns all available shortcodes in alphabetical order.
    /// Uses a cached sorted list for performance.
    /// - Returns: Sorted array of shortcode strings
    func getAllShortcuts() -> [String] {
        return sortedShortcuts
    }
}
